<div class="main-page">
  <app-header></app-header>
  <div class="container h-100">
    <div class="d-flex align-items-center gap-2 mt-4">
      <div>
        <div for="displayNumber" class="form-label">
          <div class="fs-6 fw-bold">
            Select Number of List to Display
          </div>
        </div>
        <input type="number" class="form-control" id="displayNumber" name="displayNumber" [(ngModel)]="selectedNumber"
          aria-describedby="displayList" min="0" [max]="displayedData.length" (keyup.enter)="submitDisplayList()">
      </div>
      <div class="ms-auto">
        <button type="button" class="btn btn-primary rounded-pill" (click)="openAddNewPopUp()">Add New Student
          Data</button>
      </div>
    </div>
    <div class="main-student-list-data mt-4">
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Roll No</th>
            <th>Email</th>
            <th>Contact</th>
            <th>Address</th>
            <th>DOB</th>
            <th>Gender</th>
            <th>Standard</th>
          </tr>
        </thead>
        <tbody>@for (items of displayedData.slice(startIndex, endIndex + 1);track items;let i=$index) {
          <tr>
            <td>{{ items.id }}</td>
            <td>{{ items.name }}</td>
            <td>{{ items.roll_no }}</td>
            <td>{{ items.email }}</td>
            <td>{{ items.contact }}</td>
            <td>{{ items.address }}</td>
            <td>{{ items.dob | date }}</td> <!-- Convert Unix timestamp to date -->
            <td>{{ items.gender }}</td>
            <td>{{ items.standard }}</td>
          </tr>}
        </tbody>
      </table>
    </div>
    <div class="d-flex align-items-center gap-2 justify-content-center">
      <button type="button" class="btn btn-primary rounded-pill" (click)="setPage(currentPage - 1)"
        [disabled]="currentPage === 1">Previous</button>
      <span>{{ currentPage }}</span>
      <button type="button" class="btn btn-primary rounded-pill" (click)="setPage(currentPage + 1)"
        [disabled]="endIndex === displayedData.length - 1">Next</button>
    </div>
  </div>
</div>

<ng-container #commonPopUp></ng-container>
